$(document).ready(function () {
    AddCard($(".app-download a"), $(".app-load-box"), $(".app-load-box"), {
        "display": "block"
    }, {
        "display": "none"
    })

    ChangeColor($(".shop-cart-icon"), {
        "color": "red"
    }, {
        "color": "#71777d"
    });
    // AddCard($(".shop-cart-icon"), $(".my-cart"), $(".my-cart"), {
    //     "display": "block"
    // }, {
    //     "display": "none"
    // })

    ChangeColor($(".header-signin a").eq(0), {
        "color": "red"
    }, {
        "color": "#71777d"
    });
    ChangeColor($(".header-signin a").eq(1), {
        "color": "red"
    }, {
        "color": "#71777d"
    });

    AddCard($(".item a").eq(0), $(".a"), $(".a"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".item a").eq(1), $(".b"), $(".b"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".item a").eq(2), $(".c"), $(".c"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".item a").eq(3), $(".d"), $(".d"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".item a").eq(4), $(".e"), $(".e"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".item a").eq(5), $(".f"), $(".f"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".item a").eq(6), $(".g"), $(".g"), {
        "display": "block"
    }, {
        "display": "none"
    });

    AddCard($(".b"), $(".b"), $(".b"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".c"), $(".c"), $(".c"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".d"), $(".d"), $(".d"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".e"), $(".e"), $(".e"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".f"), $(".f"), $(".f"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".g"), $(".g"), $(".g"), {
        "display": "block"
    }, {
        "display": "none"
    });
    AddCard($(".a"), $(".a"), $(".a"), {
        "display": "block"
    }, {
        "display": "none"
    });

    AddCard($(".b"), $(".item a").eq(1), $(".item a").eq(1), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    AddCard($(".c"), $(".item a").eq(2), $(".item a").eq(2), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    AddCard($(".d"), $(".item a").eq(3), $(".item a").eq(3), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    AddCard($(".e"), $(".item a").eq(4), $(".item a").eq(4), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    AddCard($(".f"), $(".item a").eq(5), $(".item a").eq(5), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    AddCard($(".g"), $(".item a").eq(6), $(".item a").eq(6), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    AddCard($(".a"), $(".item a").eq(0), $(".item a").eq(0), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });

    ChangeColor($(".item a").eq(0), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    ChangeColor($(".item a").eq(1), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    ChangeColor($(".item a").eq(2), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    ChangeColor($(".item a").eq(3), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    ChangeColor($(".item a").eq(4), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    ChangeColor($(".item a").eq(5), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });
    ChangeColor($(".item a").eq(6), {
        "color": "#fff",
        "background-color": "rgba(255, 255, 255, 0.3)"
    }, {
        "color": "rgba(255, 255, 255, 0.6)",
        "background-color": "rgba(255, 255, 255, 0)"
    });

    function ChangeColor(x, y, z) {
        x.hover(function () {
            x.css(y);
        }, function () {
            x.css(z);
        });
    }

    function AddCard(x, y, z, m, n) {
        x.hover(function () {
            y.css(m);
        }, function () {
            z.css(n);
        });
    }


    ///////大轮播图

    var i = 0;
    $('.banner-slide').eq(i).css("display", "block");
    $('.tab').eq(i).addClass('active').siblings('.tab').removeClass('active');

    showTime()

    $('.g-banner-box').hover(function () {
        clearInterval(timer);
    }, function () {
        showTime();
    });

    $(".tab").click(function () {
        clearInterval(timer);
        i = $(this).index();

        Show();
    })

    $(".prev").click(function () {
        clearInterval(timer);
        // i = $(".prev").index()  
        if (i == 0) {
            i = 5; //注意此时i的值
        }
        i--;
        Show();
    })

    $(".next").click(function () {
        clearInterval(timer);
        if (i == 4) {
            i = -1; //注意此时i的值
        }
        i++;
        Show();
    })

    function showTime() {
        timer = setInterval(function () {
            i++;
            //当图片是最后一张的后面时，设置图片为第一张
            i = i % 5;
            Show();
        }, 3000);
    }

    function Show() {

        let x = i - 1;
        if (x == -1) {
            x = 4;
        }
        let bg = ["linear-gradient(#108c82,white)", "linear-gradient(#325dfe,white)", "linear-gradient(#50aa4d,white)", "linear-gradient(#0d9990,white)", "linear-gradient(#6b49e4,white)"]
        $(".bk").css("background", bg[i]).fadeIn(500);

        $('.banner-slide').fadeOut(300);

        $('.banner-slide').eq(i).fadeIn(500),

            $('.tab').eq(i).addClass('active').siblings('.tab').removeClass('active');
    }
    // -----------------------------------------------------------------------------------------------
    //滚动条置顶
    var top = document.documentElement.scrollTop;
    if (top < 1500) {
        $("#backTop").hide();
    } else {
        $("#backTop").show();
    }
    $(window).scroll(function () {
        let top = document.documentElement.scrollTop;
        if (top < 1500) {
            $("#backTop").hide();
        } else {
            $("#backTop").show();
        }
    })

    $("#backTop").click(function () {
        let time = setInterval(function () {
            let top = document.documentElement.scrollTop;
            console.log(top);
            if (top === 0) clearInterval(time);
            else window.scrollTo(0, top - 50);
        }, 5);
    });

    // -------------------------------------------------------------------------------------------
    //    小轮播停播
    $(".lecturer-list a").hover(function () {
        swiper2.autoplay.stop();

    }, function () {
        swiper2.autoplay.start();
    });

    $(".icon-search").click(function () {
        $(".search-input").focus();

    });
    //--------------------------------------------------------
    //下载APP
    $(".app-download").mouseover(function () {
        $(".app-load-box").show();
    });
    $(".app-download").mouseleave(function () {
        $(".app-load-box").hide();
    });
    //购物车
    $(".shop").mouseover(function () {
        $(".my-cart").show();
    });
    $(".shop").mouseleave(function () {
        $(".my-cart").hide();
    });


    $(".my-cart").hover(function () {
        $("my-cart").show();
    },function () {
        $("my-cart").hide();
    });

}) //$(document).ready






function red() {
    $(".showhide-search").css("background", "rgba(240, 20, 20, 0.4)");
    $(".icon-search").css("color", "red");
    $(".search-Tags").css("display", "none");
    $(".icon-search").mousedown(function () {
        red1();
    });

};

function red1() {
    $(".showhide-search").css("background", "white");
    $(".icon-search").css("color", "#757a7e");
    $(".search-Tags").css("display", "block");
};


// 猿问手记前
$(function () {
    init();
    $(window).on('resize', function () { //重新加载
        init();
    });
})

function init() {
    var boxWidth = $(".items").outerWidth(true);
    // 获取每个小盒子的宽度 包括margin、padding、border
    var cols = 3
    // 获取列数
    var heightArr = [];

    for (var i = 0; i < cols; i++) {
        heightArr.push(0);
    };

    //遍历每一张图片
    $(".items").each(function (index, item) {
        var idx = 0;
        var minBoxHeight = heightArr[0];
        // 获取最小高度
        for (var i = 0; i < heightArr.length; i++) {
            if (heightArr[i] < minBoxHeight) {
                minBoxHeight = heightArr[i];
                idx = i;
                // 获取最小高度的索引
            }
        };

        // 设置图片的样式
        $(item).css({
            left: boxWidth * idx,
            top: minBoxHeight
        });
        heightArr[idx] += $(item).outerHeight(true);

    });
};