# 小白成长日记——第二十三天

**我变强了，也要秃了**

## React简介

1. 通过引入CDN

    	<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></\script>
    
        	<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.developmen\t.js"></script>

2. 零配置搭建 React 应用

    1. 首先你需要把它安装成 node 的全局包。

        ​	npm install -g create-react-app

    2. 创建react应用

        ​	create-react-app hackernews

        切换文件夹

        ​	cd hackernews

3. ES6 const 和let

    1. 被 const 声明的变量不能被重新赋值或重新声明。
    2. 被关键字 let 声明的变量可以被改变。

4. ReactDOM

    ​	ReactDOM.rander()可以替换HTML中的一个DOM节点.

5. 模块热替换（HMR）

    ​		是一个帮助你在浏览器中重新加载应用的工具，并且无需再让浏览
    ​	器刷新页面。

    ​		使用 HMR 最大的好处是你可以保持应用的状态。

6. 箭头函数

    1. 块状函数

        箭头后边有大括号和return()

        ~~~
        {list.map(item => {
                return (
                <div key={item.objectID}>
                <span>
                <a href={item.url}>{item.title}</a>
                </span>
                <span>{item.author}</span>
                <span>{item.num_comments}</span>
                <span>{item.points}</span>
                </div>
                );
        })}
        ~~~

    2. 简洁函数

        箭头后边没有大括号,没有return

        ~~~
        {list.map(item =>
        <div key={item.objectID}>
        <span>
        <a href={item.url}>{item.title}</a>
        </span>
        <span>{item.author}</span>
        <span>{item.num_comments}</span>
        <span>{item.points}</span>
        </div>
        )}
        
        ~~~

## react基础

1. 组件内部状态

    组件内部状态也被称为局部状态，允许你保存、修改和删除存储在组件内部的属性。

    引入类构造函数

    ~~~
    class App extends Component {
    		constructor(props) {
    		super(props);
    		this.state = {
    				list : list,
    		};
    }
    ...
    {this.state.list.map((item) =>
    .....
    
    )}
    }
    
    ~~~

2. ES6对象初始化

    当你的对象中的属性名与变量名相同时,列表变量名和状态属性名称共享同一名称。

    ~~~
    // ES5
    this.state = {
    		list: list,
    };
    // ES6
    this.state = {
    		list,
    };
    ~~~

    另一个简洁的辅助办法是简写方法名。在 ES6 中，你能更简洁地初始化一个对象的方法。

    ~~~
    // ES5
    var userService = {
            getUserName: function (user) {
                return user.firstname + ' ' + user.lastname;
            },
    };
    // ES6
    getUserName(user) {
                return user.firstname + ' ' + user.lastname;
            },
    const userService = {
            getUserName(user) {
                return user.firstname + ' ' + user.lastname;
            },
    };
    ~~~

    可以在 ES6 中使用计算属性名。

    ~~~
    // ES5
    var user = {
    		name: 'Robin',
    };
    // ES6
    const key = 'name';
    const user = {
    		[key]: 'Robin',
    };
    ~~~

3. 绑定

   1. 在构造方法中绑定
   
       
   
       ~~~ 
       constructor() {
       super();
       this.onClickMe = this.onClickMe.bind(this);
       }
       ~~~
   
   2. 在rander()函数中
   
       
   
       ~~~
       render() {
       return (
       <button
       onClick={this.onClickMe.bind(this)}
       type="button"
       >
       Click Me
       </button>
       );
       ~~~
   
   3. 在构造函数外定义业务逻辑类方法
   
       
   
       ~~~
       class ExplainBindingsComponent extends Component {
       constructor() {
           super();
           this.doSomething = this.doSomething.bind(this);
           this.doSomethingElse = this.doSomethingElse.bind(this);
       }
       doSomething() {
       // do something
       }
       doSomethingElse() {
       // do something else
       }
       ...
       }
       ~~~
   
   4. 箭头函数自动绑定
   
       
   
       ~~~
       class ExplainBindingsComponent extends Component {
           onClickMe = () => {
        	   console.log(this);
           }
           render() {
               return (
               <button
               onClick={this.onClickMe}
       ~~~

4. 事件处理

    ​		 当使用 onClick={doSomething()} 时，doSomething() 函数会在浏览器打		开程序时立即执行，
    ​		由于监听表达式是函数执行的返回值而不再是函数，所以点击按钮时不会有		任何事发生。
    ​		但当使用 onClick={doSomething} 时，因为 doSomething 是一个函数，所		以它会在点击按钮
    ​		时执行。同样的规则也适用于在程序中使用的 onDismiss() 类方法。

5. ES6解构

    ~~~
    const user = {
        firstname: 'Robin',
        lastname: 'Wieruch',
    };
    // ES5
        var firstname = user.firstname;
        var lastname = user.lastname;
        console.log(firstname + ' ' + lastname);
    // output: Robin Wieruch
    // ES6
    const { firstname, lastname } = user;
    console.log(firstname + ' ' + lastname);
    // output: Robin Wieruch
    ~~~

    ​		

    