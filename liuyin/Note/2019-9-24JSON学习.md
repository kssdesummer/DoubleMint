# JSON学习

1. JSON对象

2. JavaScript对象表示法，是存储和交换问恩信息的语法。类似XML，比XML更小、更快、更易解析。

3. 删除对象属性(只是删除值，但数组长度不变)，可使用aplice（）删除，改变长度

   1. delete myObj.sites.site1;
   2. delete myObj.sites["site1"];

4. 循环数组

   1. for(i in myOnj.sites){}
   2. for(i=0;i<myObj.sites.length;i++){}

5. 嵌套JSON对象中的数组

   1. ```
      myObj = {
          "name":"网站",
          "num":3,
          "sites": [
              { "name":"Google", "info":[ "Android", "Google 搜索", "Google 翻译" ] },
              { "name":"Runoob", "info":[ "菜鸟教程", "菜鸟工具", "菜鸟微信" ] },
              { "name":"Taobao", "info":[ "淘宝", "网购" ] }
          ]
      }
      ```

6. JSON.parse()将数据转换为JavaScript对象

   1. ```
      <script>
      var obj = JSON.parse('{ "name":"runoob", "alexa":10000, "site":"www.runoob.com" }');
      document.getElementById("demo").innerHTML = obj.name + "：" + obj.site;
      </script>
      ```

   2. 可解析的数据

      1. 从服务器段接受的JSON数据

      2. 从服务端接收数组的JSON数据

      3. 解析函数

         1. ```
            eval("("+onj.alexa+")");
            ```

   3. 无法解析的数据

      1. Date对象：

         1. 若要存储Date对象，需要将其转换为字符串，在将字符串转换为Date对象 

            ```
            var text = '{ "name":"Runoob", "initDate":"2013-12-14", "site":"www.runoob.com"}';
            var obj = JSON.parse(text);
            obj.initDate = new Date(obj.initDate);
             
            document.getElementById("demo").innerHTML = obj.name + "创建日期: " + obj.initDate;
            ```

            

         2. 利用JSON.parde()第二个参数reviver（转换结果的函数）

            ```
            var text = '{ "name":"Runoob", "initDate":"2013-12-14", "site":"www.runoob.com"}';
            var obj = JSON.parse(text, function (key, value) {
                if (key == "initDate") {
                    return new Date(value);
                } else {
                    return value;
            }});
            document.getElementById("demo").innerHTML = obj.name + "创建日期：" + obj.initDate;
            ```

            

   4. JSON.stringify()向服务器发送数据时将JavaScript对象转换为字符串

      1. 用处

         1. 对象转换
         2. 数组转换

      2. 异常

         1. JSON不能存储Date对象，stringify()将日期转换为字符串

         ```
            var obj = { "name":"Runoob", "initDate":new Date(), "site":"www.runoob.com"};
            var myJSON = JSON.stringify(obj);
            document.getElementById("demo").innerHTML = myJSON;
         
         ```

      3. 解析函数

         1. JSON不允许包含函数，JSON.stringify()会删除JavaScript对象的函数，包括key和value

            ```
            var obj = { "name":"Runoob", "alexa":function () {return 10000;}, "site":"www.runoob.com"};
            obj.alexa = obj.alexa.toString();
            var myJSON = JSON.stringify(obj);
            document.getElementById("demo").innerHTML = myJSON;
            
            ```