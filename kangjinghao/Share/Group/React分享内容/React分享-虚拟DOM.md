虚拟DOM	state状态  事件  生命周期  

# 前端三大框架

三大框架一大抄：基本语法不同，其余都很相似

-   Angular.js(最早的)  谷歌 2009（1） MVC 不支持组件化，通过一些模块和控制器，2016（2）12断层
-   Vue.js（最火的，关注人多）中国开发，文档友好
-   React.js（最流行，用的人较多）
    -   一切基于JS并实现组件化开发思想
    -   开发团队强悍，不必担心断更
    -   React通过对DOM的模拟，最大限度地减少与DOM的交互。
    -   React可以与已知的库或框架很好地配合。

<img src="/home/k/桌面/三大框架对比.png" alt="三大框架对比" style="zoom:200%;" />

# React简介

起源：起源于Facebook内部项目，因该公司对市场上 所有JavaScript MVC框架都不满意，就决定自己写一套，用来架设Instagram（照片交友）的网站，做出来之后，发现这套东西很好用，就在2013年5月开源了

React实现：以js来组成，需要熟悉ES6

由于 React的设计思想极其独特，属于革命性创新，性能出众，代码逻辑却非常简单。所以，越来越多的人开始关注和使用，认为它可能是将来 Web 开发的主流工具。

-   React

    -   安装 和运行

        -   ```cmd
            npm install -g create-react-app
            create-react-app myapp
            cd myapp/
            npm start
            ```

-   ES6

    -   根据不同的使用场景,选择用 const 和 let 来声明变量
        – 在 React 应用中尽量使用 const 来声明变量
    -   箭头函数可以用来是你的函数变得更简洁
    -   在 React 中,通过继承类的方式来声明组件

## 组件：

定义：是软件系统中具有相对独立功能、接口由契约指定、和语境有明显依赖关系、可独立部署、可组装的软件实体。

模块化：是从代码的角度分析，把同一类型代码整合封装模块，便于项目维护和开发

组件化：是从UI界面的角度分析把一些可复用UI元素，抽离成单个组件，随着项目规模增大，组件越来越多，使用方便，拼接完整的网页

目的：耦合、低内聚、无重用

## 虚拟DOM（Virtual Document Object Model）

-   DOM：浏览器中的概念，用js对象来表示页面上的元素，并提供操作DOM对象的API

-   React中的虚拟DOM：是框架中的概念，是程序员 用JS对象来模拟页面上的DOM和DOM嵌套关系

-   为什么要使用虚拟DOM：

    -   为了实现页面中，DOM元素的高效更新

        -   实例：表格排序

        | 登记时间 | 姓名 | 年龄 | 身高 |
| :------: | :--: | :--: | :--: |
      |   5.18   | 小红 |  16  | 165  |
|   4.26   | 小明 |  17  | 185  |
    |   4.18   | 小黑 |  10  | 132  |
  |   4.22   | 小兰 |  14  | 150  |
    
    
  
-   DOM树：

    -   浏览器请求服务器获取页面的HTML代码
-   浏览器要在现在内存中，解析DOM结构，并在浏览器内存中渲染出颗DOM树并呈现在页面上
    -   获取DOM树
-   在React数据流中，父子组件唯一的通信方式是通过props属性；那么如果有些场景需要获取某一个真实的DOM元素来交互，这时候就要用到React的refs属性。
    
```react
  //模拟div元素
          //html
            <div id='mydiv' title='test' data-index='0'>测试
            	<p>react</p>
            </div>
            
            //react模拟DOM树
            const div ={
                tagName:'div', //标签
                attrs:{					//	属性
                    id:'mydiv',
                    title:'test',
                    'data-index':'0'
                },childrens:[		//子节点内容
                    '测试',{
                        tagName:'p',
                        attrs:{},
                        childrens:[
                            'react'
                        ]
                    }
                ]
            }
            
            //假如只改了测试111，那只需要更改childrens里面的值就行了
  ```
  
```
        -   通过新旧DOM树的对比，看那些更改
  ```

## Diff算法

-   tree diff ：新旧两颗DOM树，==逐层对比==的过程，对比完成找到需要更新的元素
-   component diff ：在进行tree diff时，==组件间对比==，相同的暂时不需要更新，不同的移除旧组件，更新新组件
-   element diff ： 在组件对比的时候，两个组件类型相同，需要元素==对比==


